function n(){return fetch("https://cdn.contentful.com/spaces/2598fwp2jb18/environments/master/entries?access_token=pHfbnErEuvhj3p7B0lS2ASnBiORY_2pnQgDE689VA6Y").then((n=>n.json())).then((n=>({fondo:n.includes.Asset[4].fields.file.url,ganaste:n.includes.Asset[6].fields.file.url,piedra:n.includes.Asset[8].fields.file.url,titulo:n.includes.Asset[12].fields.file.url,papel:n.includes.Asset[16].fields.file.url,instructions:n.includes.Asset[21].fields.file.url,tijera:n.includes.Asset[22].fields.file.url,perdiste:n.includes.Asset[23].fields.file.url})))}const e={data:{currentGame:{computerPlay:"",myPlay:""},history:JSON.parse(localStorage.getItem("score"))||[]},listeners:[],getState(){return this.data},setState(n){this.data.currentGame=n;for(const e of this.listeners)e(n)},pushToHistory(n){const e=this.data.history;e.push(n),localStorage.setItem("score",JSON.stringify(e))},computerPlay(){var n=Math.floor(3*Math.random()+1);return 1==n?"piedra":2==n?"papel":"tijera"},setMove(n){const e=this.getState();return e.currentGame.myPlay=n,e.currentGame.computerPlay=this.computerPlay(),e.currentGame},subscribe(n){this.listeners.push(n)},whoWins(n,e){const t=["tijera"==n&&"papel"==e,"piedra"==n&&"tijera"==e,"papel"==n&&"piedra"==e].includes(!0),o=["tijera"==n&&"piedra"==e,"piedra"==n&&"papel"==e,"papel"==n&&"tijera"==e].includes(!0);return t?(localStorage.setItem("winner","player"),"playerWins"):o?(localStorage.setItem("winner","computer"),"computerWins"):(localStorage.setItem("winner","empate"),"empate")},addPoints(){const n=this.getState().history,e={computerPlay:0,myPlay:0};for(const t of n){const n=this.whoWins(t.myPlay,t.computerPlay);"playerWins"==n&&e.myPlay++,"computerWins"==n&&e.computerPlay++}return e},getWinner:()=>({score:JSON.parse(localStorage.getItem("score")),winner:localStorage.getItem("winner")})};const t=[{path:/\/home/,component:function(e){const t=document.createElement("div");t.innerHTML='\n    <div class="img-container">\n      <img class="img" src="">\n    </div>\n    <button-comp class="button">Empezar</button-comp>\n    <div class="container-hands">\n      <tijera-comp class="hand"></tijera-comp>\n      <piedra-comp class="hand"></piedra-comp>\n      <papel-comp class="hand"></papel-comp>\n    </div>\n  ',t.className="home";const o=document.createElement("style");return n().then((function(n){!function(n){t.querySelector(".img").src=n.titulo;const e=n.fondo;o.innerHTML=`\n    * {\n      box-sizing: border-box;\n    }\n    body{\n      background-image: url(${e});\n    }\n    .home{\n      max-height: 100vh;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      content-visibility: auto;\n    }\n    .img-container{\n      display: flex;\n      justify-content: center;\n    }\n    .img{\n      width: 284px;\n      height: 204px;\n      margin-top: 115px;\n      margin-bottom: 74px;\n    }\n    .container-hands{\n      display: flex;\n      gap: 46px;\n      margin-top: 86px;\n    }\n    `}(n)})),t.querySelector(".button")?.addEventListener("click",(()=>{e.goTo("/instructions")})),t.appendChild(o),t}},{path:/\/instructions/,component:function(e){const t=document.createElement("div");t.innerHTML='\n    <div class="img-container">\n      <img class="img" src="">\n    </div>\n    <button-comp class="button">¡Jugar!</button-comp>\n    <div class="container-hands">\n      <tijera-comp class="hand"></tijera-comp>\n      <piedra-comp class="hand"></piedra-comp>\n      <papel-comp class="hand"></papel-comp>\n    </div>\n  ',t.className="instructions";const o=document.createElement("style");return n().then((function(n){!function(n){t.querySelector(".img").src=n.instructions;const e=n.fondo;o.innerHTML=`\n    body{\n      background-image: url(${e});\n    }\n    .instructions{\n      max-height: 100vh;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      content-visibility: auto;\n    }\n    .img-container{\n      display: flex;\n      justify-content: center;\n    }\n    .img{\n      width: 317px;\n      height: auto;\n      margin-top: 145px;\n      margin-bottom: 45px;\n    }\n    .container-hands{\n      display: flex;\n      gap: 46px;\n      margin-top: 86px;\n    }\n    `}(n)})),t.querySelector(".button")?.addEventListener("click",(()=>{e.goTo("/playing")})),t.appendChild(o),t}},{path:/\/playing/,component:function(t){const o=document.createElement("div");o.innerHTML='\n    <div class="content">\n\n    <div class="reintentar" style="display: none;">\n      <text-comp>¡NO ELEGISTE TU JUGADA!</text-comp>\n      <button-comp class="again-button">Intentar de nuevo</button-comp>\n      <button-comp class="return-button">Ir al inicio</button-comp>\n    </div>\n\n    <div class="result-container" style="display: none; width: 140px;">\n      <div class="result-content">\n        <result-comp></result-comp>\n      </div>\n    </div>\n\n    <div class="counter"></div>\n\n    <div class="container-hands">\n\n      <div class="container-tijera">\n        <tijera-comp class="hand"></tijera-comp>\n      </div>\n      <div class="container-piedra">\n        <piedra-comp class="hand"></piedra-comp>\n      </div>\n      <div class="container-papel">\n        <papel-comp class="hand"></papel-comp>\n      </div>\n\n    </div>\n\n    </div>\n  ',o.className="playing";const i=document.createElement("style");n().then((function(n){!function(n){const e=n.fondo;i.innerHTML=`\n    body{\n      background-image: url(${e});\n    }\n    .playing{\n      max-height: 100vh;\n      display: flex;\n      justify-content: center;\n      content-visibility: auto;\n    }\n    .reintentar{\n      width: 322px;\n      height: 100vh;\n      text-align: center;\n      flex-direction: column;\n      justify-content: center;\n      gap: 30px;\n    }\n    .result-container{\n      margin: 0 auto;\n    }\n    .result-content{\n      width: 90px;\n    }\n    .counter{\n      font-family: 'Odibee Sans', cursive;\n      font-size: 100px;\n      font-weight: 700;\n\n      height: 197px;\n      width: 197px;\n      background: #E76AFA;\n      border-radius: 50%;\n      border: 23px solid #000000;\n\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin: 0 auto;\n      margin-top: 125px;\n      margin-bottom: 116px;\n    }\n    .container-hands{\n      display: flex;\n      gap: 13px;\n    }\n    .container-tijera,\n    .container-piedra {\n      width: 90px;\n    }\n    .container-papel{\n      width: 110px;\n    }\n    `}(n)})),o.appendChild(i);const s=o.querySelector(".container-tijera"),r=o.querySelector(".container-piedra"),a=o.querySelector(".container-papel");s.addEventListener("click",(()=>{const n=e.setMove("tijera");e.pushToHistory({...n});const t=e.getState().currentGame;e.setState(t),s.style.pointerEvents="none",r.style.pointerEvents="none",a.style.pointerEvents="none",s.style.transform="translateY(-16px)",s.style.filter="opacity(1)",r.style.transform="translateY(50px)",r.style.filter="opacity(0.5)",a.style.transform="translateY(50px)",a.style.filter="opacity(0.5)"})),r.addEventListener("click",(()=>{const n=e.setMove("piedra");e.pushToHistory({...n});const t=e.getState().currentGame;e.setState(t),s.style.pointerEvents="none",r.style.pointerEvents="none",a.style.pointerEvents="none",s.style.transform="translateY(50px)",s.style.filter="opacity(0.5)",r.style.transform="translateY(-14px)",r.style.filter="opacity(1)",a.style.transform="translateY(50px)",a.style.filter="opacity(0.5)"})),a.addEventListener("click",(()=>{const n=e.setMove("papel");e.pushToHistory({...n});const t=e.getState().currentGame;e.setState(t),s.style.pointerEvents="none",r.style.pointerEvents="none",a.style.pointerEvents="none",s.style.transform="translateY(50px)",s.style.filter="opacity(0.5)",r.style.transform="translateY(50px)",r.style.filter="opacity(0.5)",a.style.transform="translateY(-16px)",a.style.filter="opacity(1)"}));let c=3;const l=o.querySelector(".reintentar"),p=o.querySelector(".result-container"),d=o.querySelector(".counter");d.textContent=c,setTimeout((()=>{const n=setInterval((()=>{if(d.textContent=c,c--,-1==c){const o=e.getState().currentGame;clearInterval(n),""==o.myPlay?l.style.display="flex":(p.style.display="flex",setTimeout((()=>{t.goTo("/results")}),2e3))}}),1e3)}),400);const m=o.querySelector(".again-button"),u=o.querySelector(".return-button");return m.addEventListener("click",(()=>{t.goTo("/playing")})),u.addEventListener("click",(()=>{t.goTo("/home")})),o}},{path:/\/results/,component:function(t){const o=document.createElement("div"),i=document.createElement("style"),s=e.addPoints();var r=s.myPlay,a=s.computerPlay;return o.innerHTML=`\n  <div class="results-page">\n    <div class="img-container">\n      <img class="img" src="">\n      <div class="empate" style="display: none;">\n        <text-comp tag="h2">EMPATE</text-comp>\n      </div>\n    </div>\n\n    <div class="score-container">\n      <text-comp tag="h2">Score</text-comp>\n      <div class="score">\n        <text-comp class="player-score" tag="h3">Vos: ${r} </text-comp>\n        <text-comp class="computer-score" tag="h3">Máquina: ${a}</text-comp>\n      </div>\n    </div>\n\n    <button-comp>Volver a Jugar</button-comp>\n\n  </div>\n  `,n().then((function(n){!function(n){const t=n.fondo,s=o.querySelector(".img"),r=o.querySelector(".empate"),a=o.querySelector(".results-page"),c=e.getWinner();"player"==c.winner&&(a.style.backgroundColor="#888949",s.src=n.ganaste),"computer"==c.winner&&(s.src=n.perdiste,a.style.backgroundColor="#894949"),"empate"==c.winner&&(s.style.display="none",r.style.display="initial"),i.innerHTML=`\n      *{\n        box-sizing: border-box;\n      }\n      body{\n       background-image: url(${t});\n       background-color: pink;\n      }\n      .results-page{\n        height: 100vh;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n      }\n      .img{\n        width: 254px;\n        height: auto;\n      }\n      .empate{\n\n      }\n      .score-container{\n        width: 259px;\n        height: 217px;\n        margin-top: 11px;\n        margin-bottom: 21px;\n        background-color: #FFFFFF;\n        border: 10px solid #000;\n        border-radius: 10px;\n\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n      }\n      .score{\n        margin-top: 13px;\n        text-align: end;\n      }\n    `}(n)})),o.querySelector("button-comp")?.addEventListener("click",(()=>{t.goTo("/playing")})),o.appendChild(i),o}}];function o(){return location.host.includes("github.io")}customElements.define("text-comp",class extends HTMLElement{tags=["h2","h3","p"];tag="p";constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.tags.includes(this.getAttribute("tag"))&&(this.tag=this.getAttribute("tag")||this.tag),this.render()}render(){const n=document.createElement(this.tag);n.textContent=this.textContent;const e=document.createElement("style");e.innerHTML="\n        *{\n          margin: 0;\n          font-family: 'Odibee Sans', cursive;\n          font-weight: 400;\n        }\n        h2{\n          font-size: 55px;\n        }\n        h3{\n          font-size: 45px;\n          letter-spacing: 0.05em;\n        }\n        p{\n          font-size: 40px;\n        }\n      ",this.shadow.appendChild(e),this.shadow.appendChild(n)}}),customElements.define("button-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){this.shadow.innerHTML=`\n        <button><text-comp tag="h3">${this.textContent}</text-comp></button>\n      `;const n=document.createElement("style");n.innerHTML="\n        button{\n          border-radius: 10px;\n          border: solid 10px #001997;\n          background-color: #006CFC;\n          color: #D8FCFC;\n          width: 322px;\n          height: 87px;\n        }\n      ",this.shadow.appendChild(n)}}),customElements.define("tijera-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){const e=document.createElement("div");e.innerHTML='\n        <img class="img" src="">\n      ',n().then((function(n){var t;t=n,e.querySelector(".img").src=t.tijera}));const t=document.createElement("style");t.innerHTML="\n      .img{\n        width: 100%;\n        height: auto;\n      }\n      ",this.shadow.appendChild(e),this.shadow.appendChild(t)}}),customElements.define("piedra-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){const e=document.createElement("div");e.innerHTML='\n        <img class="img" src="">\n      ',n().then((function(n){var t;t=n,e.querySelector(".img").src=t.piedra}));const t=document.createElement("style");t.innerHTML="\n      .img{\n        width: 100%;\n        height: auto;\n      }\n      ",this.shadow.appendChild(e),this.shadow.appendChild(t)}}),customElements.define("papel-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){const e=document.createElement("div");e.innerHTML='\n        <img class="img" src="">\n      ',n().then((function(n){var t;t=n,e.querySelector(".img").src=t.papel}));const t=document.createElement("style");t.innerHTML="\n      .img{\n        width: 100%;\n        height: auto;\n      }\n      ",this.shadow.appendChild(e),this.shadow.appendChild(t)}}),customElements.define("result-comp",class extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.render()}render(){const n=document.createElement("section"),t=document.createElement("div"),o=document.createElement("div"),i=document.createElement("style");e.subscribe((()=>{const n=e.getState().currentGame,i=n.myPlay,s=n.computerPlay;"tijera"==i&&(o.innerHTML="<tijera-comp></tijera-comp>"),"piedra"==i&&(o.innerHTML="<piedra-comp></piedra-comp>"),"papel"==i&&(o.innerHTML="<papel-comp></papel-comp>",o.style.width="140px"),"tijera"==s&&(t.innerHTML="<tijera-comp></tijera-comp>",t.style.transform="rotate(180deg)"),"piedra"==s&&(t.innerHTML="<piedra-comp></piedra-comp>",t.style.transform="rotate(180deg)"),"papel"==s&&(t.innerHTML="<papel-comp></papel-comp>",t.style.width="140px",t.style.transform="rotate(180deg)")})),i.innerHTML="\n        section{\n          height: 100vh;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n        }\n        div{\n          width: 120px;\n        }\n      ",n.appendChild(t),n.appendChild(o),this.shadow.appendChild(i),this.shadow.appendChild(n)}}),function(n){function e(n){const e=o()?"/modulo5-desafio"+n:n;history.pushState({},"",e),i(e)}function i(i){const s=o()?i.replace("/modulo5-desafio",""):i;for(const o of t)if(o.path.test(s)){const t=o.component({goTo:e});n.firstChild&&n.firstChild.remove(),n.appendChild(t)}}o()||"/"==location.pathname?e("/home"):i(location.pathname),window.onpopstate=function(){i(location.pathname)}}(document.querySelector(".root"));
//# sourceMappingURL=index.ba01a0e6.js.map
